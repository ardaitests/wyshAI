!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}(),sessionStorage.getItem("sessionId")||sessionStorage.setItem("sessionId","sess_"+Math.random().toString(36).substr(2,9));const e=document.getElementById("chat-messages"),t=document.getElementById("user-input"),n=sessionStorage.getItem("sessionId");function s(){const e=document.getElementById("chat-container");if(!e)return;const t=()=>{try{e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}catch(t){e.scrollTop=e.scrollHeight}};t(),setTimeout(t,50),setTimeout(t,200)}function o(e,t){const n=document.getElementById("chat-messages");if(!n)return;if(!document.getElementById("chat-container"))return;const o=document.createElement("div");o.className=`flex ${t?"justify-end":"justify-start"} w-full`;const r=document.createElement("div");r.className="message p-4 rounded-xl shadow-md "+(t?"bg-gradient-to-r from-primary-500 to-primary-600 text-white":"bg-white text-gray-700 border border-gray-100"),r.style.display="inline-block",r.style.maxWidth="min(100%, 28rem)";const a=document.createElement("div");var i;a.className="text-sm",a.innerHTML=(i=e)?i=(i=(i=(i=(i=i.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")).replace(/\*(.*?)\*/g,"<em>$1</em>")).replace(/`(.*?)`/g,'<code class="bg-gray-100 px-1 rounded">$1</code>')).replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank" class="text-primary-600 hover:underline">$1</a>')).replace(/\n/g,"<br>"):"",r.appendChild(a),o.appendChild(r),n.appendChild(o),s(),setTimeout(s,50),setTimeout(s,200)}function r(t){t&&setTimeout(s,10);const n=document.getElementById("typing-indicator");if(n&&n.remove(),t){const t=document.createElement("div");t.id="typing-indicator",t.className="flex justify-start";const n=document.createElement("div");n.className="message bg-white p-4 rounded-xl shadow-md border border-gray-100",n.style.display="inline-block",n.style.minWidth="4rem";const s=document.createElement("div");s.className="typing-indicator flex space-x-1",s.innerHTML='\n            <span class="h-2 w-2 rounded-full bg-gray-400 animate-bounce" style="animation-delay: 0s"></span>\n            <span class="h-2 w-2 rounded-full bg-gray-400 animate-bounce" style="animation-delay: 0.2s"></span>\n            <span class="h-2 w-2 rounded-full bg-gray-400 animate-bounce" style="animation-delay: 0.4s"></span>\n        ',n.appendChild(s),t.appendChild(n),e.appendChild(t),e.scrollTop=e.scrollHeight}}async function a(){const e=t.value.trim();if(e){o(e,!0),t.value="",r(!0);try{const t=await fetch("https://areed.app.n8n.cloud/webhook/scheduler-google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,sessionId:n,timestamp:(new Date).toISOString()})}),s=await t.json();r(!1),s.message?o(s.message,!1):o("I'm sorry, I couldn't process your request. Please try again.",!1)}catch(s){console.error("Error:",s),r(!1),o("I'm having trouble connecting to the server. Please check your connection and try again.",!1)}}}window.addEventListener("DOMContentLoaded",(()=>{sessionStorage.getItem("sessionId")||sessionStorage.setItem("sessionId","session-"+Date.now());const e=document.getElementById("user-input");e&&e.focus();const t=()=>{const e=document.getElementById("chat-container");e&&(e.scrollTop=e.scrollHeight)};t(),setTimeout(t,100),window.addEventListener("resize",t)})),o("Hello! I'm Preston's scheduling assistant. How can I help you today?",!1),document.getElementById("send-button").addEventListener("click",a),t.addEventListener("keypress",(e=>{"Enter"===e.key&&a()}));
